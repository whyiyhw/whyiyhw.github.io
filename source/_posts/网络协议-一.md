---
title: 网络协议(一)
date: 2019-11-25 21:58:42
categories: 网络协议
tags:
- http
---

## 协议

- 协议，网络协议的简称，网络协议是指通信计算机双方必须共同遵从的一组约定。

- 为了使数据在网络上从源到达目的，网络通信的参与方必须遵循相同的规则，这套规则称为协议（protocol），它最终体现为在网络上传输的数据包的格式。

  - 协议的三要素包括 **语法** **语义** **时序**

- *以上内容来自百度百科*

  

  不谈它在网络中的表示，我们所理解的，字面上的`协议`，就是约定，双方都明白且遵循的一种规则，也就是说是人为规定的，不是自然产生的。有人的地方就有江湖，协议也不例外，人有时代局限性，协议当然也有，也可以说网络协议是人们为了避免纷争，妥协出来的产物。协议一直在不断完善中，我们要学习与理解现在的协议发展，就要从头开始去理解。

- ### `ISO/OSI` 协议模型  


|层次|说明|
| ---------- | :----------------------------------------------------------- |
| 物理层     | 物理层（Physical Layer）在局部局域网上传送[数据帧](https://zh.wikipedia.org/wiki/数据帧)（data frame），它负责管理电脑通信设备和网络媒体之间的互通。包括了针脚、电压、线缆规范、集线器、中继器、网卡、主机接口卡等。 |
| 数据链路层 | 数据链路层（`Data Link Layer`）负责网络寻址、错误侦测和改错。当表头和表尾被加至数据包时，会形成帧。数据链表头（`DLH`）是包含了物理地址和错误侦测及改错的方法。数据链表尾（`DLT`）是一串指示数据包末端的字符串。例如以太网、无线局域网（`Wi-Fi`）和通用分组无线服务（`GPRS`）等。分为两个子层：逻辑链路控制（`logical link control，LLC`）子层和介质访问控制（`Media access control，MAC`）子层 |
| 网络层     | 网络层（`Network Layer`）决定数据的路径选择和转寄，将网络表头（`NH`）加至数据包，以形成报文。网络表头包含了网络数据。例如:互联网协议（`IP`）等。 |
| 传输层     | 传输层（`Transport Layer`）把传输表头（`TH`）加至数据以形成数据包。传输表头包含了所使用的协议等发送信息。例如:传输控制协议（`TCP`）等。 |
| 会话层     | 会话层（Session Layer）负责在数据传输中设置和维护电脑网络中两台电脑之间的通信连接。 |
| 表示层     | 表达层（Presentation Layer）把数据转换为能与接收者的系统格式兼容并适合传输的格式。 |
| 应用层     | 应用层（`Application Layer`）提供为应用软件而设的接口，以设置与另一应用软件之间的通信。例如: `HTTP，HTTPS，FTP，TELNET，SSH，SMTP，POP3,HTML`等。 |

  -  `1984`年，`ISO`发布了著名的`ISO/IEC 7498`标准，它定义了网络互联的7层框架，也就是开放式系统互联参考模型 （`OSI`，Open Systems Interconnection）(by来自维基百科)

  - 因为协议由人设计，所以各大公司都有一套自己的玩意，这些东西一直到现在（2019）依然对兼容性有着很大的约束.

  - 七层模型也称为理想中的模型，实际上一般的业务程序员在工作中能感知的 无非就是上层的应用层 `http`  网络层 `IP`  传输层 `TCP` 一般没事都不会关心，这也体现出分层的好处，减少心智负担

    - 所以 也有 

      - **五层**划分为：**应用层（应用，表示，会话）、传输层、网络层、数据链路层、物理层**。

      - **四层**划分为：**应用层（应用，表示，会话）、传输层、网络层、网络接口层（数据链路层、物理层）**。

  - 通俗来说 物理层就是来保证数据能正常在实体设备间进行传输的，它只负责跟硬件设备打交道，数据链路层就是对电信号进行分组

  - 数据链路层的以太网协议`Ethernet`。

    - 一组电信号称之为一个数据包，或者叫做一个**“帧”**
    - 每一数据帧分成：报头head和数据data两部分
    - [【head】【data】]
      - head包含：（固定18个字节）
        - 发送者（源地址，6个字节）
        - 接收者（目标地址，6个字节）
        - 数据类型（6个字节）
      - data包含：（最短46字节，最长1500字节）
      - 其中的源地址和目标地址指的是**mac地址** 
    - `Ethernet`规定接入Internet的设备都必须具备网卡，发送端的和接收端的地址便是指网卡的地址，即`Mac`地址。每块网卡出厂时都被烧录上一个实际上唯一的Mac地址，长度为48位2进制，通常由12位16进制数表示

  - 有了以太网协议后，在同一局域网内的设备就可以通信，局域网内的计算机不管是对内还是对外都是靠吼，这就是数据链路层的工作方式-----广播，这个里面肯定还有细节点，之后再写

  - 当然，数据链路层仅限于局域网的信息传递，问题是，跨局域网设备通讯是怎么做的呢？